# Python

## Todo List

**第一阶段：Python基础语法 (建议用时：2-4周)**

* [x] [理解变量的概念和命名规则](#变量的概念与命名规则)
* [x] 学习并掌握数字类型：整数 (`int`) 和浮点数 (`float`)
* [ ] 学习并掌握字符串类型 (`str`)
* [ ] 学习并掌握布尔类型 (`bool`)
* [ ] 掌握不同数据类型之间的转换方法
* [ ] 学习算术运算符：`+`, `-`, `*`, `/`, `//`, `%`, `**`
* [ ] 学习比较运算符：`==`, `!=`, `>`, `<`, `>=`, `<=`
* [ ] 学习逻辑运算符：`and`, `or`, `not`
* [ ] 学习赋值运算符：`=`, `+=`, `-=`, `*=`, `/=` 等
* [ ] 学习成员运算符：`in`, `not in`
* [ ] 学习身份运算符：`is`, `is not`
* [ ] 学习使用 `input()` 函数获取用户输入
* [ ] 学习使用 `print()` 函数输出结果
* [ ] 掌握 `print()` 函数的格式化输出 (f-strings, `.format()` 方法)
* [ ] 理解并使用 `if` 语句
* [ ] 理解并使用 `if-else` 语句
* [ ] 理解并使用 `if-elif-else` 语句
* [ ] 掌握嵌套条件语句的使用
* [ ] 理解并使用 `for` 循环 (遍历序列、使用 `range()`)
* [ ] 理解并使用 `while` 循环
* [ ] 学习循环控制语句：`break`, `continue`
* [ ] 了解循环中的 `else` 子句

**第二阶段：Python数据结构 (建议用时：2-4周)**

* [ ] 学习列表 (`list`) 的创建方法
* [ ] 掌握访问列表元素的方法 (索引)
* [ ] 掌握修改列表元素的方法
* [ ] 掌握删除列表元素的方法 (`del`, `pop()`, `remove()`)
* [ ] 学习列表的常用方法：`append()`, `insert()`, `sort()`, `reverse()`, `len()`, `index()`, `count()` 等
* [ ] 掌握列表的切片操作
* [ ] 理解并使用列表推导式
* [ ] 理解元组 (`tuple`) 的不可变性
* [ ] 学习元组的创建和访问方法
* [ ] 掌握元组的打包与解包
* [ ] 理解字典 (`dict`) 中键值对 (`key-value`) 的概念
* [ ] 学习字典的创建方法
* [ ] 掌握访问字典元素的方法 (通过键)
* [ ] 掌握修改字典元素的方法
* [ ] 掌握删除字典元素的方法 (`del`, `pop()`, `popitem()`)
* [ ] 学习字典的常用方法：`keys()`, `values()`, `items()`, `get()`, `update()` 等
* [ ] 理解并使用字典推导式
* [ ] 理解集合 (`set`) 的无序性和唯一性
* [ ] 学习集合的创建方法
* [ ] 掌握集合的交集、并集、差集等运算
* [ ] 学习集合的常用方法：`add()`, `remove()`, `discard()`, `pop()`, `union()`, `intersection()`, `difference()` 等
* [ ] 复习并深入学习字符串 (`str`) 的常用方法：`split()`, `join()`, `strip()`, `replace()`, `find()`, `startswith()`, `endswith()`, `upper()`, `lower()` 等
* [ ] 巩固字符串格式化方法

**第三阶段：函数与模块 (建议用时：2-3周)**

* [ ] 学习使用 `def` 关键字定义函数
* [ ] 掌握函数的调用方法
* [ ] 理解并使用函数的位置参数
* [ ] 理解并使用函数的默认参数
* [ ] 理解并使用函数的可变参数 (`*args`)
* [ ] 理解并使用函数的关键字参数 (`**kwargs`)
* [ ] 理解并使用函数的 `return` 语句获取返回值
* [ ] 理解函数作用域：局部变量 (local) 和全局变量 (global)
* [ ] 学习 `lambda` 表达式 (匿名函数) 的定义和使用场景
* [ ] 理解递归函数的概念和基本应用 (注意避免无限递归)
* [ ] 初步了解函数式编程概念
* [ ] 学习高阶函数 `map()` 的使用
* [ ] 学习高阶函数 `filter()` 的使用
* [ ] 学习高阶函数 `reduce()` 的使用 (可能需要从 `functools` 模块导入)
* [ ] 理解模块 (`module`) 的概念和作用
* [ ] 学习导入模块：`import module_name`
* [ ] 学习导入模块中的特定部分：`from module_name import ...`
* [ ] 学习并使用Python内置模块，例如：
    * [ ] `math` 模块
    * [ ] `random` 模块
    * [ ] `datetime` 模块
    * [ ] `json` 模块
    * [ ] `os` 模块 (基础部分)
* [ ] 学习如何创建自己的模块文件
* [ ] 了解包 (`package`) 的概念以及如何组织多个模块

**第四阶段：面向对象编程 (OOP) (建议用时：3-5周)**

* [ ] 理解面向对象编程 (OOP) 的基本思想
* [ ] 理解类 (`class`) 和对象 (`object`)/实例 (`instance`) 的概念
* [ ] 学习使用 `class` 关键字定义类
* [ ] 学习构造函数 `__init__()` 的作用和写法
* [ ] 理解并定义实例属性
* [ ] 理解并定义类属性
* [ ] 定义和调用实例方法
* [ ] 理解并使用 `@classmethod` 定义和调用类方法
* [ ] 理解并使用 `@staticmethod` 定义和调用静态方法
* [ ] 理解封装的概念
* [ ] 学习Python中的访问限制 (公有成员、名称改写实现的“私有”成员 `__`)
* [ ] 了解 `getter` 和 `setter` 方法的思想 (虽然Python不强制)
* [ ] 理解继承的概念和作用
* [ ] 实现单继承
* [ ] 了解和实现多继承 (注意MRO顺序)
* [ ] 学习方法重写 (Override)
* [ ] 学习 `super()` 函数在继承中的使用
* [ ] 理解多态的概念和在Python中的体现
* [ ] 学习常用的特殊方法 (魔术方法)，例如：
    * [ ] `__str__()`
    * [ ] `__repr__()`
    * [ ] `__len__()`
    * [ ] `__eq__()`

**第五阶段：文件操作与异常处理 (建议用时：1-2周)**

* [ ] 学习使用 `open()` 函数打开文件
* [ ] 学习使用 `close()` 方法关闭文件
* [ ] 掌握使用 `with` 语句自动管理文件开关
* [ ] 了解文件模式：读 (`'r'`)、写 (`'w'`)、追加 (`'a'`)、二进制 (`'b'`) 等
* [ ] 学习读取文件内容的方法：`read()`, `readline()`, `readlines()`
* [ ] 学习写入文件内容的方法：`write()`, `writelines()`
* [ ] 了解文件指针和定位：`seek()`, `tell()`
* [ ] 学习处理 CSV 文件的基本方法 (可结合 `csv` 模块)
* [ ] 学习处理 JSON 文件的基本方法 (可结合 `json` 模块)
* [ ] 理解什么是异常以及为什么需要异常处理
* [ ] 学习使用 `try-except` 语句捕获特定类型的异常
* [ ] 学习使用 `try-except` 语句捕获所有异常 (并了解其潜在风险)
* [ ] 学习使用 `try-except-else` 语句
* [ ] 学习使用 `try-except-finally` 语句 (理解 `finally` 子句的执行时机)
* [ ] 学习使用 `raise` 语句主动抛出异常
* [ ] 了解如何定义自定义异常类

**第六阶段：常用标准库与第三方库入门 (建议用时：持续学习)**

* [ ] **标准库选学:**
    * [ ] 深入学习 `os` 模块：文件和目录操作
    * [ ] 学习 `sys` 模块：与Python解释器相关的变量和函数
    * [ ] 深入学习 `datetime` 模块：日期和时间的高级处理
    * [ ] 学习 `time` 模块：时间相关的函数，如延时
    * [ ] 深入学习 `json` 模块：JSON数据的编码和解码
    * [ ] 学习 `csv` 模块：CSV文件的读写
    * [ ] 学习 `re` 模块：正则表达式操作入门
    * [ ] 学习 `collections` 模块中的额外数据结构，如 `deque`, `Counter`, `defaultdict`
    * [ ] 了解 `urllib` 模块 (进行网络请求的基础)
    * [ ] (进阶) 初步了解 `multiprocessing` 或 `threading` 模块
* [ ] **常用第三方库入门 (根据兴趣和目标选择，需要 `pip` 安装):**
    * [ ] **数据科学方向:**
        * [ ] 学习 `NumPy` 基础：创建和操作N维数组
        * [ ] 学习 `Pandas` 基础：`Series` 和 `DataFrame` 的创建与基本操作
        * [ ] 学习 `Matplotlib` 或 `Seaborn` 基础：绘制简单的图表
        * [ ] (可选) 了解 `Scikit-learn` 的基本概念和用途
    * [ ] **Web开发/爬虫方向:**
        * [ ] 学习 `Requests` 库：发送HTTP请求
        * [ ] 学习 `Beautiful Soup` 或 `lxml` 基础：解析HTML/XML
        * [ ] (可选) 了解 `Scrapy` 爬虫框架的基本概念
        * [ ] (可选) 了解 `Flask` 或 `Django` Web框架的基本概念
    * [ ] **其他方向:**
        * [ ] (图像处理) 了解 `Pillow (PIL Fork)` 库的基本图像操作
        * [ ] (计算机视觉) 了解 `OpenCV-Python` 的基本概念和用途

**第七阶段：项目实践与进阶 (持续进行)**

* [ ] 学习并使用 `Git` 进行代码版本控制 (基本命令：`clone`, `add`, `commit`, `push`, `pull`, `branch`, `merge`)
* [ ] 了解单元测试的概念
* [ ] 学习使用 `unittest` 或 `pytest` 模块编写简单的单元测试
* [ ] 学习并遵循 PEP 8 Python代码规范
* [ ] 学习并熟练使用IDE的调试功能 (设置断点、单步执行、查看变量等)
* [ ] (可选) 尝试阅读一些优秀的Python开源项目源码
* [ ] **根据兴趣选择并完成至少一个小项目**
* [ ] **针对性深入学习:**
    * [ ] 数据结构与算法 (推荐系统学习)
    * [ ] 特定领域的Python应用 (如数据分析、机器学习、Web后端、自动化脚本等)
    * [ ] Python并发编程：线程、进程、协程 (`asyncio`)

## 变量的概念与命名规则

### 变量的概念

想象一下，你在做一个数学题，需要用到一个数字，比如圆周率 $\\pi \\approx 3.14159$。你不会每次用到它的时候都把这一长串数字写一遍，而是可能会用一个符号，比如 "pi"，来代表这个数字。在程序中，**变量 (Variable)** 就扮演着类似的角色。

简单来说，**变量就是一个用来存储数据的“标签”或“容器”**。你可以把数据（比如数字、文字、列表等）放进这个容器里，并且给这个容器贴上一个名字（就是变量名）。以后当你想使用这个数据时，只需要通过这个名字就可以找到并使用它。

**核心思想：**

1.  **存储数据：** 变量的主要目的是在内存中存储信息。
2.  **引用数据：** 通过变量名，我们可以方便地引用（访问或修改）存储在内存中的数据。
3.  **可变性：** “变量”之所以叫“变”量，是因为它存储的数据通常是可以改变的。比如，你一开始让变量 `age` 存储数字 `20`，之后可以把它改成 `21`。

**在Python中，当你创建一个变量时，实际上发生了两件事：**

1.  Python会在计算机的内存中找一块空间来存放你要存储的数据。
2.  Python会将你指定的变量名与这块内存空间关联起来（就像给这块内存贴上了标签）。

**示例：**

```python
# 创建一个名为 pi 的变量，并把浮点数 3.14159 存进去
pi = 3.14159

# 创建一个名为 message 的变量，并把字符串 "你好，世界！" 存进去
message = "你好，世界！"

# 创建一个名为 count 的变量，并把整数 10 存进去
count = 10

# 之后可以修改变量中存储的数据
count = count + 5  # 现在 count 存储的是 15
```

在这个例子中：

  * `pi` 是一个变量名，它指向内存中存储 `3.14159` 这个值的地方。
  * `message` 是一个变量名，它指向内存中存储 `"你好，世界！"` 这个文本的地方。
  * `count` 是一个变量名，它一开始指向 `10`，后来指向了 `15`。

**Python变量的特点：**

  * **动态类型 (Dynamically Typed)：** 你不需要在使用变量前显式声明它的类型（比如告诉Python这个变量只能存数字或者只能存文字）。Python解释器会在你给变量赋值时自动判断其类型。
    ```python
    my_variable = 10      # my_variable 是整数类型
    my_variable = "Hello" # 现在 my_variable 变成了字符串类型 (这是允许的)
    ```
  * **变量只是一个引用：** 变量名本身不包含数据，它只是指向数据在内存中的位置。这有点像你有一个朋友的地址，地址本身不是你朋友，但通过地址你可以找到他。

### 变量的命名规则

给变量起一个好名字非常重要，它能让你的代码更容易阅读和理解。Python对变量名有一些强制性的规则和一些约定俗成的规范。

**强制性规则 (必须遵守，否则程序会报错)：**

1.  **字符组成：** 变量名只能包含**字母 (a-z, A-Z)**、**数字 (0-9)** 和**下划线 (`_`)**。
      * 有效示例：`my_name`, `age1`, `_value`
2.  **开头字符：** 变量名**不能以数字开头**。
      * 无效示例：`1name` (会报错)
      * 有效示例：`name1`
3.  **区分大小写：** Python是大小写敏感的。这意味着 `myVariable` 和 `myvariable` 是两个不同的变量。
      * `age = 20` 和 `Age = 30` 是不同的变量。
4.  **不能是关键字 (Keywords)：** Python有一些保留字，它们有特殊的含义，不能用作变量名。你可以通过以下方式查看Python的关键字列表：
    
    ```python
    import keyword
    print(keyword.kwlist)
    ```
    常见的关键字有：`if`, `else`, `for`, `while`, `def`, `class`, `return`, `True`, `False`, `None` 等。
      * 无效示例：`if = 10` (会报错)

**命名规范和建议 (非强制，但强烈推荐遵守，以提高代码可读性)：**

1.  **见名知意 (Descriptive Names)：** 变量名应该清晰地描述它所存储的数据的含义。
      * 推荐：`user_name`, `age`, `total_count`
      * 不推荐：`a`, `b`, `x1`, `var2` (除非在非常简短、上下文清晰的临时代码中)
2.  **使用下划线分隔单词 (Snake Case)：** 这是Python社区最推荐的变量命名风格，即所有字母小写，单词之间用下划线连接。
      * 推荐：`first_name`, `item_list`, `http_response_code`
      * 也可以用驼峰命名法 (Camel Case)，但蛇形命名法在Python中更普遍，特别是对于变量和函数名。
          * 小驼峰 (lowerCamelCase): `firstName`, `itemList`
          * 大驼峰 (UpperCamelCase/PascalCase): `FirstName`, `ItemList` (通常用于类名)
3.  **避免使用容易混淆的字符：** 避免使用小写字母 `l` (elle)、大写字母 `O` (oh) 和数字 `0` (zero)、大写字母 `I` (eye) 和数字 `1` (one)，因为它们在某些字体下看起来很相似。
4.  **简洁明了：** 在保证见名知意的前提下，尽量让变量名简洁。
5.  **一致性：** 在一个项目中，保持统一的命名风格。
6.  **避免使用Python内置函数或类型的名称作为变量名：** 虽然Python允许你这样做（因为它们不是严格意义上的关键字），但这会导致你无法再调用原来的内置函数或使用该类型。
      * 不推荐：`str = "hello"`, `list = [1, 2, 3]`, `print = "my_printer"` (这样做之后，你就不能使用内置的 `str()` 函数、`list()` 类型或 `print()` 函数了，除非你 `del` 掉你创建的同名变量)。

**有效和无效的变量名示例：**

  * **有效的变量名：**
      * `name`
      * `user_age`
      * `_count` (以下划线开头的变量通常有特殊含义，比如表示内部使用，但语法上是允许的)
      * `MAX_CONNECTIONS` (全大写通常用来表示常量)
      * `studentName` (小驼峰命名法)
      * `CarModel` (大驼峰命名法，通常用于类名)
      * `item1`
  * **无效的变量名：**
      * `2items` (不能以数字开头)
      * `user name` (不能包含空格)
      * `my-variable` (不能包含连字符 `-`)
      * `class` (是关键字)
      * `global@value` (不能包含特殊符号 `@`)

**总结一下：**

  * **变量**是给内存中的数据贴的标签，方便我们引用和修改数据。
  * 命名时**必须**遵守：只能用字母、数字、下划线；不能数字开头；区分大小写；不能用关键字。
  * 命名时**推荐**遵守：见名知意；使用蛇形命名法 (如 `my_variable`)；保持简洁和一致性；避免覆盖内置函数名。

理解并遵循这些概念和规则，将帮助你编写出更清晰、更易于维护的Python代码。

## 整数 (int) 与浮点数 (float)

### 1. 什么是整数 (int) 和浮点数 (float)

在 Python 中，数字类型用于表示数值。最常用的两种数字类型是：

- **整数 (Integer, `int`)**: 表示不带小数点的正数、负数或零。例如：-2, 0, 10, 1000000。在 Python 3 中，整数的大小是**没有限制**的，只受限于你的计算机内存。
- **浮点数 (Floating-Point Number, `float`)**: 表示带小数点的数字。例如：3.14, -0.001, 2.0, 1.23e5 (科学计数法，表示 1.23 x 10^5^)。浮点数通常用于表示实数，但它们在计算机内部的表示方式决定了可能存在**精度问题**。

------

### 2. 如何定义和使用它们

直接赋值即可创建整数和浮点数变量：

```python
# 定义整数
age = 30
year = -2023
big_number = 12345678901234567890 # Python 3 整数没有大小限制

print(f"age 的类型是: {type(age)}")
print(f"year 的类型是: {type(year)}")
print(f"big_number 的类型是: {type(big_number)}")

# 定义浮点数
pi = 3.14159
temperature = -4.5
speed = 3.0 # 即使是整数值，加上小数点就变成了浮点数
scientific = 1.5e-3 # 表示 1.5 * 10^(-3) = 0.0015

print(f"\npi 的类型是: {type(pi)}")
print(f"temperature 的类型是: {type(temperature)}")
print(f"speed 的类型是: {type(speed)}")
print(f"scientific 的类型是: {type(scientific)}")
```

**注意**: `type()` 函数可以帮助你查看任何变量的数据类型。

------

### 3. 基本算术运算

整数和浮点数都支持标准的算术运算符：

| **运算符** | **名称**    | **示例 (int)** | **结果 (int)** | **示例 (float)** | **结果 (float)** |
| ---------- | ----------- | -------------- | -------------- | ---------------- | ---------------- |
| `+`        | 加法        | `5 + 3`        | `8`            | `5.0 + 3.0`      | `8.0`            |
| `-`        | 减法        | `5 - 3`        | `2`            | `5.0 - 3.0`      | `2.0`            |
| `*`        | 乘法        | `5 * 3`        | `15`           | `5.0 * 3.0`      | `15.0`           |
| `/`        | 除法        | `10 / 3`       | `3.333...`     | `10.0 / 3.0`     | `3.333...`       |
| `%`        | 取模 (余数) | `10 % 3`       | `1`            | `10.0 % 3.0`     | `1.0`            |
| `//`       | 整除        | `10 // 3`      | `3`            | `10.0 // 3.0`    | `3.0`            |
| `**`       | 幂运算      | `2 ** 3`       | `8`            | `2.0 ** 3.0`     | `8.0`            |

**重要**:

- 在 Python 3 中，无论操作数是整数还是浮点数，`/` 除法的结果**总是**浮点数。
- `//` 整除运算符会丢弃小数部分，结果的类型取决于操作数的类型：如果都是整数，结果是整数；如果至少有一个是浮点数，结果是浮点数（但值是整除后的整数部分）。



```python
# 整数运算
a = 10
b = 3

print(f"\n整数运算:")
print(f"a + b = {a + b}")
print(f"a - b = {a - b}")
print(f"a * b = {a * b}")
print(f"a / b = {a / b} (注意这里是浮点数结果)")
print(f"a % b = {a % b}")
print(f"a // b = {a // b}")
print(f"a ** b = {a ** b}")

# 浮点数运算
c = 10.0
d = 3.0

print(f"\n浮点数运算:")
print(f"c + d = {c + d}")
print(f"c - d = {c - d}")
print(f"c * d = {c * d}")
print(f"c / d = {c / d}")
print(f"c % d = {c % d}")
print(f"c // d = {c // d} (浮点数的整除结果也是浮点数)")
print(f"c ** d = {c ** d}")
```

------

### 4. 类型转换 (Casting)

你可以使用内置函数在整数和浮点数之间进行转换：

- `int(x)`: 将 `x` 转换为整数。如果 `x` 是浮点数，它会**截断**小数部分（直接去掉，而不是四舍五入）。如果 `x` 是字符串，它必须是合法的整数表示。
- `float(x)`: 将 `x` 转换为浮点数。如果 `x` 是整数，它会加上 `.0`。如果 `x` 是字符串，它必须是合法的数字表示（整数或浮点数）。



```python
# int 转 float
num_int = 100
num_float = float(num_int)
print(f"\nint 转 float: {num_int} -> {num_float}, type: {type(num_float)}")

# float 转 int (截断)
num_float2 = 123.789
num_int2 = int(num_float2)
print(f"float 转 int (截断): {num_float2} -> {num_int2}, type: {type(num_int2)}")

# float 转 int (另一个例子)
num_float3 = -4.9
num_int3 = int(num_float3)
print(f"float 转 int (截断): {num_float3} -> {num_int3}, type: {type(num_int3)}") # 注意，是向零的方向截断

# 字符串转数字
str_int = "123"
str_float = "45.67"

try:
    int_from_str = int(str_int)
    float_from_str = float(str_float)
    print(f"字符串转 int: \"{str_int}\" -> {int_from_str}, type: {type(int_from_str)}")
    print(f"字符串转 float: \"{str_float}\" -> {float_from_str}, type: {type(float_from_str)}")

    # 尝试转换非数字字符串会导致 ValueError
    # invalid_str = "hello"
    # int(invalid_str) # 这行会报错
except ValueError as e:
    print(f"转换错误: {e}")
```

------

### 5. int 和 float 混合运算

当一个整数和一个浮点数进行运算时，Python 会自动将整数**提升**为浮点数，然后再进行计算。结果将是浮点数。

Python

```
result_mixed = 5 + 3.14
print(f"\nint 和 float 混合运算: 5 + 3.14 = {result_mixed}, type: {type(result_mixed)}")

result_mixed2 = 10 * 2.5
print(f"int 和 float 混合运算: 10 * 2.5 = {result_mixed2}, type: {type(result_mixed2)}")

result_mixed3 = 10 / 2 # 即使整除，结果也是 float
print(f"int 和 int / float: 10 / 2 = {result_mixed3}, type: {type(result_mixed3)}")

result_mixed4 = 10 // 3.0 # 整除，但有一个是 float，结果是 float
print(f"int // float: 10 // 3.0 = {result_mixed4}, type: {type(result_mixed4)}")
```

这种自动类型提升是很方便的，但你需要注意最终结果的数据类型。

------

### 6. 浮点数精度问题

这是掌握 `float` 时非常重要的一个概念。由于计算机使用二进制来表示浮点数，而许多十进制小数（如 0.1, 0.2）在二进制下是无限循环的，无法精确表示。这会导致微小的舍入误差。

Python

```
print(f"\n浮点数精度问题:")
print(0.1 + 0.2) # 结果不是精确的 0.3
print(0.1 + 0.2 == 0.3) # 结果是 False

# 另一个例子
print(1 / 3)
print(1 / 3 * 3) # 结果可能不是精确的 1.0
```

**为什么会这样？**

就像十进制无法精确表示 1/3 (0.333...) 一样，许多十进制小数在二进制下也是无限循环的。计算机只能存储有限的位数，所以会进行截断或舍入，从而产生微小的误差。

**什么时候需要注意？**

- 进行**精确**的金融计算时。
- 进行比较相等性 (`==`) 时，浮点数的相等性比较通常需要小心，最好比较它们的差是否在一个很小的范围内 (`abs(a - b) < epsilon`)。

**解决方案 (了解即可)**

对于需要高精度计算的场景，可以使用 Python 标准库中的 `decimal` 模块，它可以提供任意精度的十进制浮点运算。但对于大多数科学计算或日常用途，标准的 `float` 已经足够。

------

### 7. 常用内置函数

除了上面提到的 `type()`, `int()`, `float()`，还有一些常用的内置函数用于数字操作：

- `abs(x)`: 返回 `x` 的绝对值。

- `round(x, n=None)`: 对 `x`进行四舍五入。
- 如果 `n` 被省略，返回最接近的整数（但结果是浮点数，如 `round(3.14)` 返回 `3.0`，`round(3.5)` 返回 `4.0`）。
   - 如果指定 `n`，则四舍五入到小数点后 `n` 位。
- **注意**: Python 3 的 `round()` 函数在处理 `.5` 的情况下，遵循「银行家舍入」（round half to even）的规则，即当小数部分恰好是 0.5 时，会舍入到最近的偶数整数。例如 `round(2.5)` 是 `2.0`，`round(3.5)` 是 `4.0`。

```python
print(f"\n常用内置函数:")
print(f"abs(-10) = {abs(-10)}")
print(f"abs(-5.5) = {abs(-5.5)}")

print(f"round(3.14159) = {round(3.14159)}")
print(f"round(3.14159, 2) = {round(3.14159, 2)}")
print(f"round(3.5) = {round(3.5)}")   # 银行家舍入
print(f"round(2.5) = {round(2.5)}")   # 银行家舍入
print(f"round(4.789, 1) = {round(4.789, 1)}")
```

好的，让我们深入学习 Python 的字符串类型 (`str`)。字符串是 Python 中最常用的数据类型之一，用于表示文本数据。

---

## 字符串( str )

### 1\. 什么是字符串 (str)

字符串是一个由零个或多个字符组成的序列。字符可以是字母、数字、符号、空格等等。在 Python 中，字符串是**不可变 (immutable)** 的序列。这意味着一旦创建了一个字符串对象，就不能更改它里面的单个字符。任何看起来像修改字符串的操作，实际上都是创建了一个新的字符串对象。

### 2\. 如何创建字符串

可以使用单引号 (`'`)、双引号 (`"`)、三单引号 (`'''`) 或三双引号 (`"""`) 来创建字符串。

  * **单引号或双引号**: 用于创建单行字符串。通常建议在整个项目中统一使用其中一种风格。

    ```python
    string1 = 'Hello, World!'
    string2 = "Python Programming"
    print(type(string1))
    print(type(string2))
    ```

    如果字符串本身包含单引号或双引号，可以使用另一种引号来包围它，或者使用转义字符 (`\`)。

    ```python
    quote1 = "He said, 'Hello!'"
    quote2 = 'It\'s a beautiful day.' # 使用反斜杠转义单引号
    quote3 = "She said, \"Wow!\""  # 使用反斜杠转义双引号
    print(quote1)
    print(quote2)
    print(quote3)
    ```

  * **三单引号或三双引号**: 用于创建多行字符串。它们可以跨越多行，并且会保留原始字符串中的换行符和缩进。

    ```python
    multiline_string = """This is a
    multiline string.
    It preserves
    line breaks and
    indentation."""
    print(multiline_string)
    
    multiline_string2 = '''Another
    multiline
    string.'''
    print(multiline_string2)
    ```

### 3\. 字符串的不可变性

这是字符串的一个重要特性。你不能修改一个已存在的字符串对象中的某个字符。

```python
my_string = "Python"
# my_string[0] = "J" # 这行代码会引发 TypeError 错误，因为字符串不可变

# 如果想改变，必须创建一个新的字符串
new_string = "Jython" # 创建了一个新的字符串对象
print(my_string)
print(new_string)

# 看起来像修改的操作，实际上是重新赋值 (创建新对象)
greeting = "Hello"
greeting = greeting + ", World!" # 创建了一个新的字符串 "Hello, World!"，并让 greeting 变量指向它
print(greeting)
```

### 4\. 访问字符串中的字符 (索引)

字符串中的每个字符都有一个对应的位置编号，称为**索引 (index)**。索引从 0 开始。你也可以使用负数索引，它从字符串的末尾开始计数，-1 表示最后一个字符，-2 表示倒数第二个字符，以此类推。

```python
word = "Example"
# 索引: E=0, x=1, a=2, m=3, p=4, l=5, e=6
# 负索引: E=-7, x=-6, a=-5, m=-4, p=-3, l=-2, e=-1

print(f"第一个字符: {word[0]}")
print(f"第三个字符: {word[2]}")
print(f"最后一个字符: {word[-1]}")
print(f"倒数第三个字符: {word[-3]}")

# 尝试访问超出范围的索引会导致 IndexError 错误
# print(word[10])
# print(word[-10])
```

### 5\. 字符串切片 (Slicing)

切片允许你从字符串中提取一部分作为子字符串。语法是 `[start:stop:step]`。

  * `start`: 切片的起始索引（包含此索引处的字符）。如果省略，默认为 0。
  * `stop`: 切片的结束索引（**不包含**此索引处的字符）。如果省略，默认为字符串的末尾。
  * `step`: 切片的步长（跳跃的间隔）。如果省略，默认为 1。步长可以是负数，用于反向切片。

```python
phrase = "Python Slicing"
# 索引: P=0, y=1, t=2, h=3, o=4, n=5, ' '=6, S=7, l=8, i=9, c=10, i=11, n=12, g=13

print(f"\n原始字符串: {phrase}")
print(f"从索引 0 到 6 (不包含 6): {phrase[0:6]}") # Python
print(f"从索引 7 到末尾: {phrase[7:]}")      # Slicing
print(f"从开头到索引 6 (不包含 6): {phrase[:6]}")      # Python
print(f"复制整个字符串: {phrase[:]}")       # Python Slicing
print(f"从索引 0 到末尾，步长为 2: {phrase[::2]}")     # Pto lc n
print(f"反转字符串: {phrase[::-1]}")      # gnicilS nohtyP
print(f"从索引 7 到 12 (不包含 12): {phrase[7:12]}")    # Slici
```

### 6\. 字符串长度

使用内置函数 `len()` 可以获取字符串中字符的数量。

```python
string_length = "Hello"
print(f"\n字符串 '{string_length}' 的长度是: {len(string_length)}")
print(f"空字符串的长度是: {len('')}")
```

### 7\. 字符串拼接和重复

  * **拼接 (`+`)**: 使用 `+` 运算符可以将两个或多个字符串连接起来。
    ```python
    greeting = "Hello"
    name = "Alice"
    message = greeting + ", " + name + "!"
    print(f"\n拼接字符串: {message}")
    ```
  * **重复 (`*`)**: 使用 `*` 运算符和一个整数可以重复字符串多次。
    ```python
    repeat_string = "abc" * 3
    print(f"重复字符串: {repeat_string}")
    ```

### 8\. 字符串方法

字符串对象有很多内置的方法（函数），可以用来执行各种操作，如查找、替换、分割、改变大小写等。调用方法使用点号 (`.`)。记住，大多数字符串方法都会返回一个**新的**字符串，而不会修改原字符串。

```python
sample_string = "  Hello Python World  "

print(f"\n常用字符串方法:")
print(f"转为大写: {sample_string.upper()}")
print(f"转为小写: {sample_string.lower()}")
print(f"首字母大写: {sample_string.capitalize()}")
print(f"每个单词首字母大写: {sample_string.title()}")

print(f"查找 'Python' 的起始索引: {sample_string.find('Python')}") # 如果找不到返回 -1
print(f"替换 'World' 为 'Universe': {sample_string.replace('World', 'Universe')}")

# 分割字符串，返回一个列表
words_list = sample_string.split() # 默认按空格分割
print(f"按空格分割: {words_list}")
words_list2 = "apple,banana,cherry".split(',')
print(f"按逗号分割: {words_list2}")

# 连接列表中的字符串，返回一个新字符串
joined_string = "-".join(["a", "b", "c"])
print(f"用 '-' 连接列表: {joined_string}")

print(f"是否以 '  Hello' 开头: {sample_string.startswith('  Hello')}")
print(f"是否以 'World  ' 结尾: {sample_string.endswith('World  ')}")

print(f"移除开头和结尾的空白符: '{sample_string.strip()}'")
print(f"移除开头的空白符: '{sample_string.lstrip()}'")
print(f"移除结尾的空白符: '{sample_string.rstrip()}'")

numeric_string = "12345"
alphabetic_string = "abcdef"
alphanumeric_string = "abc123"
whitespace_string = "   "

print(f"' {numeric_string} ' 是数字组成吗: {numeric_string.isdigit()}")
print(f"' {alphabetic_string} ' 是字母组成吗: {alphabetic_string.isalpha()}")
print(f"' {alphanumeric_string} ' 是字母或数字组成吗: {alphanumeric_string.isalnum()}")
print(f"' {whitespace_string} ' 是空白符组成吗: {whitespace_string.isspace()}")
```

还有很多其他字符串方法，你可以查阅 Python 官方文档来了解更多。

### 9\. 转义序列 (Escape Sequences)

转义序列以反斜杠 (`\`) 开头，用于在字符串中表示特殊字符，这些字符直接输入可能导致问题或有特殊含义。

| 转义序列 | 表示字符     |
| :------- | :----------- |
| `\'`     | 单引号       |
| `\"`     | 双引号       |
| `\\`     | 反斜杠       |
| `\n`     | 换行符       |
| `\t`     | 制表符 (Tab) |
| `\r`     | 回车符       |
| `\b`     | 退格符       |

```python
print(f"\n转义序列:")
print("This is a line.\nThis is another line.")
print("Item 1:\tValue 1")
print("Item 2:\tValue 2")
print("This contains a backslash: \\")
print("She said, \"Hello!\"")
```

### 10\. 原始字符串 (Raw Strings)

在某些情况下，你可能不想让反斜杠作为转义符，而是希望它被当作普通字符处理，特别是在处理文件路径或正则表达式时。这时可以在字符串前加上 `r` 或 `R`，创建原始字符串。

```python
print(f"\n原始字符串:")
# 普通字符串，\n 会被解释为换行
print("C:\\Users\\name\\documents\\newfolder")

# 原始字符串，\n 不会被解释
print(r"C:\Users\name\documents\newfolder")

# 正则表达式中常用
import re
pattern = r"\d+\.\d+" # 匹配一个或多个数字，后跟一个点，后跟一个或多个数字
text = "The value is 3.14"
match = re.search(pattern, text)
print(f"使用原始字符串的正则表达式匹配: {match.group() if match else 'No match'}")
```

**注意**: 原始字符串不能以单个反斜杠结束。`r"abc\"` 是非法的，但 `r"abc\\"` 或 `r"abc"` 是合法的。

### 11\. 字符串格式化

将变量或其他值插入到字符串中有多种方法。

  * **F-strings (Formatted String Literals) - 推荐**: 在字符串前加上 `f` 或 `F`，然后在字符串中使用大括号 `{}` 包围变量名或表达式。这是 Python 3.6+ 中最简洁和推荐的方式。

    ```python
    name = "Alice"
    age = 30
    print(f"\nF-strings 格式化:")
    print(f"My name is {name} and I am {age} years old.")
    print(f"The result of 2 * 3 is {2 * 3}.")
    ```

  * **`.format()` 方法**: 这是在 f-strings 之前常用的方法。使用 `{}` 作为占位符，然后调用字符串的 `.format()` 方法，传入要填充的值。

    ```python
    print(f"\n.format() 方法格式化:")
    print("My name is {} and I am {} years old.".format(name, age))
    print("My name is {0} and I am {1} years old.".format(name, age)) # 可以通过索引指定位置
    print("My name is {n} and I am {a} years old.".format(n=name, a=age)) # 可以通过关键字指定
    ```

  * **百分号 (%) 格式化 (旧式)**: 类似于 C 语言的 printf 风格，使用 `%` 作为占位符。在现代 Python 中较少使用，但在维护旧代码时可能会看到。

    ```python
    # print(f"\n百分号 (%) 格式化 (旧式):")
    # print("My name is %s and I am %d years old." % (name, age)) # %s for string, %d for integer
    ```

-----



### 数据结构

#### 列表

```Bash
# 创建一个空列表
items = []

# 向列表中添加元素
items.append("apple")
items.append("banana")
items.append("orange")
items.append("orange")
items.append("orange")
items.append("grape")

# 索引运算
items[1]

# 反向索引（访问倒数第n个元素）
items[-1]

# 重复运算(既将列表内的运算重复n次)
items * 3

# 存在判断
"apple" in items

# 切片运算[start,end,stride]
items[0:4:2]


# 插入元素到指定位置（超过列表长度时，会自动添加元素到末尾）
items.insert(5, "grape")

# 删除元素（指定位置）
items.pop(2)

# 删除最后一个元素
items.pop()

# 元素位置索引
items.index("banana")

# 元素出现次数
items.count("apple")

# 列表排序
items.sort()

# 列表反转
items.reverse()


# 嵌套列表
items = [[1,2],[1,2,3],1]
```

**列表推导式**

语法结构： `[exp (`**`for item in condition`**`) (if condition) ]`

```Python
class Pair:
    a: int
    b: int

    def __init__(self, a: int, b: int):
        self.a = a
        self.b = b


pairs = [Pair(a=t[0], b=t[1]) for t in [(1, 2), (3, 4), (5, 6, 7)] if len(t) == 2]

for pair in pairs:
    print(pair.a, pair.b)
```

#### 元组

定义：多个元素按照一定顺序构成的序列，但不可变

特点：操作基本与列表一致，因为不可变的原因更加适合应用在多线程场景，性能更高

```Python
# 定义一个三元组
t1 = (35, 12, 98)
# 定义一个四元组
t2 = ('骆昊', 43, True, '四川成都')

# 查看元组中元素的数量
print(len(t1))  # 3
print(len(t2))  # 4

# 索引运算
print(t1[0])    # 35
print(t1[2])    # 98
print(t2[-1])   # 四川成都

# 切片运算
print(t2[:2])   # ('骆昊', 43)
print(t2[::3])  # ('骆昊', '四川成都')

# 循环遍历元组中的元素
for elem in t1:
    print(elem)

# 成员运算
print(12 in t1)         # True
print(99 in t1)         # False
print('Hao' not in t2)  # False

# 拼接运算
t3 = t1 + t2
print(t3)  # (35, 12, 98, '骆昊', 43, True, '四川成都')

# 比较运算
print(t1 == t3)            # False
print(t1 >= t3)            # False
print(t1 <= (35, 11, 99))  # False

# 解包
a,b,c = (1,2,3)
```

#### 字符串

##### 字符串的**定义**

- 字符串是由零个或多个字符组成的有限序列。
- 在 Python 中，字符串可以用单引号或双引号包围（可以使用`'` `"` 包裹单行字符串，对于多行字符串可以使用`'''`或`"""`）。
- 字符串中的字符可以是特殊符号、英文字母、中文字符等。

```Python
str1 = 'str1'
str2 = "str2"
multi_str1 = '''
multi_str1
'''
multi_str2 = """
multi_str2
"""
```

##### **转义字符**

- 反斜杠 `\` 用于表示转义字符，例如 `\n` 表示换行，`\t` 表示制表符。

```Python
str_1 = 'line1\nline2'
print(str1)
"""
Output:
line1
line2
"""
```

##### **原始字符串**

- 以 `r` 或 `R` 开头的字符串称为原始字符串，既其中每个字符都是其本来的含义。

```Python
str_1 = 'line1\nlin2'
str_2 = r'line1\nline2'
print(str_1)
print(str_2)
'''
Output:
line1
line2
line1\nline2
'''
```

##### 字符的特殊表示

- 可以使用八进制或十六进制数来表示字符。
- 使用 `\u` 后跟 Unicode 字符编码来表示字符。

##### 字符串的运算

- **拼接和重复**：可以使用 `+` 运算符拼接字符串，使用 `*` 运算符重复字符串。

```Python
str_a = 'aaaaa'
str_b = 'bbbbb'
print(str_a+str_b)
'''
Output:
aaaaabbbbbbb
'''
print(str_a * 2)
'''
Output:
aaaaaaaaaa
'''
```

- **比较运算**：可以使用 `==`、`!=`、`<`、`>` 等运算符进行字符串比较（字符串的大小比较比的是每个字符对应的编码的大小）。
- **成员运算**：可以使用 `in` 和 `not in` 判断一个字符串是否包含另一个字符或字符串。

```python
s1 = 'hello, world'
s2 = 'goodbye, world'
print('wo' in s1)      # True
print('wo' not in s2)  # False
print(s2 in s1)        # False
```

- **获取字符串长度**：使用 `len()` 函数获取字符串的长度。

```python
s = 'hello, world'print(len(s))                 # 12
print(len('goodbye, world'))  # 14
```

- **索引和切片**：可以通过正向或反向整数索引访问字符串中的元素，但不能通过索引修改字符串。

```python
s = 'abc123456'
n = len(s)
print(s[0], s[-n])    # a a
print(s[n-1], s[-1])  # 6 6
print(s[2], s[-7])    # c c
print(s[5], s[-4])    # 3 3
print(s[2:5])         # c12
print(s[-7:-4])       # c12
print(s[2:])          # c123456
print(s[:2])          # ab
print(s[::2])         # ac246
print(s[::-1])        # 654321cba
```

##### 字符的遍历

- 可以使用 `for-in` 循环遍历字符串中的每个字符。

方式一：

```python
s = 'hello'for i in range(len(s)):
    print(s[i])
```

方式二：

```python
s = 'hello'for elem in s:
    print(elem)
```

##### 字符串的方法

- **大小写相关操作**：可以使用 `capitalize()`、`title()`、`upper()`、`lower()` 方法进行大小写变换。
- **查找操作**：可以使用 `find()`、`index()`、`rfind()`、`rindex()` 方法查找字符串中的子字符串。
- **性质判断**：可以使用 `startswith()`、`endswith()` 方法判断字符串是否以某个字符串开头或结尾。
- **格式化**：可以使用 `center()`、`ljust()`、`rjust()`、`zfill()` 方法进行字符串的格式化。
- **修剪操作**：可以使用 `strip()`、`lstrip()`、`rstrip()` 方法修剪字符串中的空白字符。
- **替换操作**：可以使用 `replace()` 方法替换字符串中的子字符串。
- **拆分与合并**：可以使用 `split()` 方法将字符串拆分为列表，使用 `join()` 方法将列表合并成字符串。
- **编码和解码**：可以使用 `encode()` 和 `decode()` 方法进行字符串的编码和解码。

#### 集合

##### 集合的定义

- 集合是一种无序的、不重复的数据结构，每个元素的地位都是相同的，元素之间是无序的。

##### 集合的创建

- 可以使用`{}`字面量语法创建集合，也可以使用内置函数`set`将其他序列转换成集合。
- 使用生成式语法也可以创建集合。

```python
set1 = {1, 2, 3, 3, 3, 2}
print(set1)

set2 = {'banana', 'pitaya', 'apple', 'apple', 'banana', 'grape'}
print(set2)

set3 = set('hello')
print(set3)

set4 = set([1, 2, 2, 3, 3, 3, 2, 1])
print(set4)

set5 = {num for num in range(1, 20) if num % 3 == 0 or num % 7 == 0}
print(set5)
```

##### 集合的遍历

- 不能通过索引运算来遍历集合中的元素，因为集合元素没有特定的顺序。可以使用`for-in`循环进行遍历。

```python
set1 = {'Python', 'C++', 'Java', 'Kotlin', 'Swift'}
for elem in set1:
    print(elem)
```

##### 集合的运算

- **成员运算**：可以通过`in`和`not in`检查元素是否在集合中。
- **二元运算**：包括交集、并集、差集、对称差等，可以通过运算符或方法实现。

![img](./assets/1745390016092-13.png)

```python
set1 = {1, 2, 3, 4, 5, 6, 7}
set2 = {2, 4, 6, 8, 10}

# 交集
print(set1 & set2)                      # {2, 4, 6}
print(set1.intersection(set2))          # {2, 4, 6}

# 并集
print(set1 | set2)                      # {1, 2, 3, 4, 5, 6, 7, 8, 10}
print(set1.union(set2))                 # {1, 2, 3, 4, 5, 6, 7, 8, 10}

# 差集
print(set1 - set2)                      # {1, 3, 5, 7}
print(set1.difference(set2))            # {1, 3, 5, 7}

# 对称差
print(set1 ^ set2)                      # {1, 3, 5, 7, 8, 10}
print(set1.symmetric_difference(set2))  # {1, 3, 5, 7, 8, 10}
```

- **比较运算**：可以使用`==`和`!=`进行相等性判断，可以使用`>` `<` `>=` `<=`来进行是否子集/父集运算，还可以通过`issubset`和`issuperset`方法判断集合之间的关系。

```python
set1 = {1, 3, 5}
set2 = {1, 2, 3, 4, 5}
set3 = {5, 4, 3, 2, 1}

print(set1 < set2)   # True
print(set1 <= set2)  # True
print(set2 < set3)   # False
print(set2 <= set3)  # True
print(set2 > set1)   # True
print(set2 == set3)  # True

print(set1.issubset(set2))    # True
print(set2.issuperset(set1))  # True
```

##### 集合的方法

- 可以通过集合的方法向集合添加元素或从集合中删除元素。

```python
set1 = {1, 10, 100}

# 添加元素
set1.add(1000)
set1.add(10000)
print(set1)  # {1, 100, 1000, 10, 10000}

# 删除元素
set1.discard(10)
if 100 in set1:
    set1.remove(100)
print(set1)  # {1, 1000, 10000}

# 清空元素
set1.clear()
print(set1)  # set()
```

- 还有一个名为`isdisjoint`的方法可以判断两个集合有没有相同的元素。

```python
set1 = {'Java', 'Python', 'C++', 'Kotlin'}
set2 = {'Kotlin', 'Swift', 'Java', 'Dart'}
set3 = {'HTML', 'CSS', 'JavaScript'}
print(set1.isdisjoint(set2))  # False
print(set1.isdisjoint(set3))  # True
```

#####  不可变集合

- Python 中还有一种不可变类型的集合，名字叫`frozenset`。`frozenset`由于是不可变类型，能够计算出哈希码，因此它可以作为`set`中的元素。

#### 字典

##### 字典的定义

字典（Dictionary）是一种无序、可变且可迭代的数据类型，用于存储键值对（key - value pairs）。每个键值对中的键（key）必须是唯一的，且键必须是不可变的数据类型，如字符串、数字或元组；而值（value）可以是任意数据类型，包括列表、字典等。

##### 字典的创建

```python
xinhua = {
    '麓': '山脚下',
    '路': '道，往来通行的地方；方面，地区：南～货，外～货；种类：他俩是一～人',
    '蕗': '甘草的别名',
    '潞': '潞水，水名，即今山西省的浊漳河；潞江，水名，即云南省的怒江'
}
print(xinhua)
person = {
    'name': '王大锤',
    'age': 55,
    'height': 168,
    'weight': 60,
    'addr': '成都市武侯区科华北路62号1栋101', 
    'tel': '13122334455',
    'emergence contact': '13800998877'
}
print(person)

# dict函数(构造器)中的每一组参数就是字典中的一组键值对
person = dict(name='王大锤', age=55, height=168, weight=60, addr='成都市武侯区科华北路62号1栋101')
print(person)  # {'name': '王大锤', 'age': 55, 'height': 168, 'weight': 60, 'addr': '成都市武侯区科华北路62号1栋101'}

# 可以通过Python内置函数zip压缩两个序列并创建字典
items1 = dict(zip('ABCDE', '12345'))
print(items1)  # {'A': '1', 'B': '2', 'C': '3', 'D': '4', 'E': '5'}
items2 = dict(zip('ABCDE', range(1, 10)))
print(items2)  # {'A': 1, 'B': 2, 'C': 3, 'D': 4, 'E': 5}

# 用字典生成式语法创建字典
items3 = {x: x ** 3 for x in range(1, 6)}
print(items3)  # {1: 1, 2: 8, 3: 27, 4: 64, 5: 125}
```

##### 字典的运算

```python
person = {'name': '王大锤', 'age': 55, 'height': 168, 'weight': 60, 'addr': '成都市武侯区科华北路62号1栋101'}

# 成员运算
print('name' in person)  # True
print('tel' in person)   # False

# 索引运算
print(person['name'])
print(person['addr'])
person['age'] = 25
person['height'] = 178
person['tel'] = '13122334455'
person['signature'] = '你的男朋友是一个盖世垃圾，他会踏着五彩祥云去迎娶你的闺蜜'
print(person)

# 循环遍历
for key in person:
    print(f'{key}:\t{person[key]}')
```

Tips: 在通过索引运算获取字典中的值时，如指定的键没有在字典中，将会引发`KeyError`异常。

##### 字典的方法

- 使用`get`方法可以通过健来获取对应的值。`get`方法在字典中没有指定的键时不会产生异常，而是返回`None`或指定的默认值。

```python
person = {'name': '王大锤', 'age': 25, 'height': 178, 'addr': '成都市武侯区科华北路62号1栋101'}
print(person.get('name'))       # 王大锤
print(person.get('sex'))        # None
print(person.get('sex', True))  # True
```

- 如果需要获取字典中所有的键，可以使用`keys`方法；如果需要获取字典中所有的值，可以使用`values`方法。字典还有一个名为`items`的方法，它会将键和值组装成二元组。

```Python
person = {'name': '王大锤', 'age': 25, 'height': 178}
print(person.keys())    # dict_keys(['name', 'age', 'height'])
print(person.values())  # dict_values(['王大锤', 25, 178])
print(person.items())   # dict_items([('name', '王大锤'), ('age', 25), ('height', 178)])
for key, value in person.items():
    print(f'{key}:\t{value}')
```

- 字典的`update`方法实现两个字典的合并操作。既将传入的字典参数值更新到现有字典中，如果键值对不存在则会创建该键值对。

```Python
person1 = {'name': '王大锤', 'age': 55, 'height': 178}
person2 = {'age': 25, 'addr': '成都市武侯区科华北路62号1栋101'}
person1.update(person2)
print(person1)  # {'name': '王大锤', 'age': 25, 'height': 178, 'addr': '成都市武侯区科华北路62号1栋101'}

# Python 3.9 及以上的版本可以使用 | 运算符完成该操作
person1 |= person2
print(person1)  # {'name': '王大锤', 'age': 25, 'height': 178, 'addr': '成都市武侯区科华北路62号1栋101'}
```

- 可以通过`pop`或`popitem`方法从字典中删除元素，前者会返回（获得）键对应的值，但是如果字典中不存在指定的键，会引发`KeyError`错误；后者在删除元素时，会返回（获得）键和值组成的二元组。字典的`clear`方法会清空字典中所有的键值对。

```Python
person = {'name': '王大锤', 'age': 25, 'height': 178, 'addr': '成都市武侯区科华北路62号1栋101'}
print(person.pop('age'))  # 25
print(person)             # {'name': '王大锤', 'height': 178, 'addr': '成都市武侯区科华北路62号1栋101'}
print(person.popitem())   # ('addr', '成都市武侯区科华北路62号1栋101')
print(person)             # {'name': '王大锤', 'height': 178}
person.clear()
print(person)             # {}
```

- 跟列表一样，从字典中删除元素也可以使用`del`关键字，在删除元素的时候如果指定的键索引不到对应的值，一样会引发`KeyError`错误，具体的做法如下所示。

```python
person = {'name': '王大锤', 'age': 25, 'height': 178, 'addr': '成都市武侯区科华北路62号1栋101'}
del person['age']
del person['addr']
print(person)  # {'name': '王大锤', 'height': 178}
```

### 函数

#### 装饰器

```python
import time
from functools import wraps

def timer_decorator(func):
    """装饰器：记录函数执行时间"""
    @wraps(func)
    def wrapper(*args, **kwargs):
        # 记录开始时间
        start_time = time.time()
        
        # 执行原函数
        result = func(*args, **kwargs)
        
        # 计算执行时间
        end_time = time.time()
        execution_time = end_time - start_time
        
        # 打印执行时间
        print(f"函数 {func.__name__} 执行时间: {execution_time:.4f} 秒")
        
        return result
    return wrapper

@timer_decorator
def print_loop_1000(msg:str):
    for i in range(1000):
        print(msg)

# 执行装饰后的函数
print_loop_1000("hello world")
# 执行原函数
print_loop_1000.__wrapped__("hello world")
```

### 面向对象

#### __slots__

#### @staticmethod与@classmethod

装饰器staticmethod将方法装饰为静态方法

装饰器classmethod将方法装饰为类方法

#### @property